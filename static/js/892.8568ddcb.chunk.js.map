{"version":3,"file":"static/js/892.8568ddcb.chunk.js","mappings":"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","sources":["pages/Detail.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { Context1 } from \"./../App\";\r\nimport { order } from \"./../store\";\r\nimport App from \"../App\";\r\n\r\n//css까지 안가도 js에서 스타일 적용\r\n//스타일이 다른 js파일로 오염되지 않음. - App.modules.css로 사용하면 오염 x (모듈화)\r\n//페이지 로딩시간 단축(css파일 로딩 X)\r\n\r\nlet YellowBtn = styled.button`\r\n  background: ${(props) => props.bg};\r\n  color: ${(props) => (props.bg == \"blue\" ? \"white\" : \"black\")};\r\n  padding: 10px;\r\n`;\r\n\r\nlet Box = styled.div`\r\n  background: grey;\r\n  padding: 20px;\r\n`;\r\n\r\nexport default function Detail(props) {\r\n  //보관함 해체\r\n  let { 재고, shoes } = useContext(Context1);\r\n  let { id } = useParams();\r\n  let [count, setCount] = useState(0);\r\n  let 찾은상품 = props.shoes.find((x) => x.id == id);\r\n  let [할인, set할인] = useState(true);\r\n  let [경고, 경고변경] = useState(false);\r\n  let [num, setNum] = useState(0);\r\n  let numeric = /^[0-9]+$/;\r\n  let [tab, setTab] = useState(0);\r\n  let [fade, setFade] = useState(\"\");\r\n\r\n  let cart = useSelector((state) => state.cart);\r\n  let state = useSelector((state) => state);\r\n  let dispatch = useDispatch(); //store.js로 요청 보내주는 함수\r\n\r\n  useEffect(() => {\r\n    //mount, update시 코드 실행\r\n    //HTML 랜더링이 다 되고나서 실행.\r\n    //어려운 연산. 서버에서 데이터 가져오는 작업. 타이머 장착\r\n    //side effect 코드 보관함.\r\n\r\n    let a = setTimeout(() => {\r\n      setFade(\"end\");\r\n    }, 10);\r\n\r\n    //2초 후에 실행됨\r\n    let timer = setTimeout(() => {\r\n      set할인(false);\r\n    }, 2000);\r\n\r\n    let 최근본상품 = JSON.parse(localStorage.getItem(\"watched\"));\r\n    //console.log(최근본상품);\r\n    //최근본상품.push(id);\r\n    const set = new Set(최근본상품);\r\n    console.log(최근본상품);\r\n    localStorage.setItem(\"watched\", JSON.stringify(Array.from(set)));\r\n\r\n    return () => {\r\n      //기존 타이머는 제거해주세요. cleanup function 기존 코드 치우는 거 작성.\r\n      clearTimeout(timer); //타이머 제거해주는 함수.\r\n      clearTimeout(a); //타이머 제거해주는 함수.\r\n    }; //useEffect동작 전에 실행되는 return()=>{}\r\n  }, []); //count라는 state가 변할 때만 실행됨 - []는 해당 컴포넌트가 mount될 때 1회, 아무것도 없을 때는 mount, update될 때\r\n\r\n  useEffect(() => {\r\n    if (isNaN(num) == true) {\r\n      alert(\"그러지 마세요\");\r\n    }\r\n  }, [num]);\r\n\r\n  return (\r\n    <div className={`container start ${fade} `}>\r\n      <button\r\n        onClick={() => {\r\n          setCount(count + 1);\r\n        }}\r\n      >\r\n        버튼\r\n      </button>\r\n      {count}\r\n      <YellowBtn bg=\"blue\">버튼</YellowBtn>\r\n      <YellowBtn bg=\"orange\">버튼</YellowBtn>\r\n\r\n      {할인 == true ? (\r\n        <div className=\"alert alert-warning\">2초 이내 구매시 할인</div>\r\n      ) : null}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <img\r\n            src={\r\n              \"https://codingapple1.github.io/shop/shoes\" +\r\n              (parseInt(id) + parseInt(1)) +\r\n              \".jpg\"\r\n            }\r\n            width=\"100%\"\r\n          />\r\n        </div>\r\n        {경고 == true ? (\r\n          <div className=\"alert alert-danger\">그러지 마!</div>\r\n        ) : null}\r\n\r\n        {/* <input\r\n          onChange={(e) => {\r\n            setNum(e.target.value);\r\n          }}\r\n        /> */}\r\n\r\n        <input\r\n          onChange={(e) => {\r\n            let input = e.target.value;\r\n            if (!numeric.test(input) && input) {\r\n              console.log(\"숫자 아님!\");\r\n              경고변경(true);\r\n            } else {\r\n              경고변경(false);\r\n            }\r\n          }}\r\n        />\r\n        <div className=\"col-md-6\">\r\n          <h4 className=\"pt-5\">{찾은상품.name}</h4>\r\n          <p>{props.shoes[id].content}</p>\r\n          <p>{props.shoes[id].price}</p>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => {\r\n              //console.log(\"찾은 상품\" + JSON.stringify({ 찾은상품 }));\r\n              //dispatch(order({ 찾은상품 }.찾은상품));\r\n              dispatch(order({ id: id, name: props.shoes[id].name, count: 1 }));\r\n              console.log(state.cart);\r\n            }}\r\n          >\r\n            주문하기\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {재고}\r\n      <Nav variant=\"tabs\" defaultActiveKey=\"link1\">\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(0);\r\n            }}\r\n            eventKey=\"link0\"\r\n          >\r\n            버튼0\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(1);\r\n            }}\r\n            eventKey=\"link1\"\r\n          >\r\n            버튼1\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(2);\r\n            }}\r\n            eventKey=\"link2\"\r\n          >\r\n            버튼2\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n      <TabContent tab={tab} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TabContent({ tab }) {\r\n  let [fade, setFade] = useState(\"\");\r\n  let { 재고, shoes } = useContext(Context1);\r\n  useEffect(() => {\r\n    //end를 부착해주세요\r\n    //fade state를 end로 바꿔주세요\r\n    let a = setTimeout(() => {\r\n      setFade(\"end\");\r\n    }, 10);\r\n\r\n    return () => {\r\n      clearTimeout(a);\r\n      setFade(\"\");\r\n    };\r\n\r\n    //state 변경 함수 근처 꺼를 한 번에 실행함. - automatic batching\r\n  }, [tab]); // 탭이라는 게 변할 때마다 안의 코드 실행함\r\n\r\n  return (\r\n    <div className={`start ${fade}`}>\r\n      {[<div>{재고}</div>, <div>내용1</div>, <div>내용2</div>][tab]}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["YellowBtn","styled","button","_templateObject","_taggedTemplateLiteral","props","bg","div","_templateObject2","Detail","_useContext","useContext","Context1","재고","id","shoes","useParams","_useState","useState","_useState2","_slicedToArray","count","setCount","찾은상품","find","x","_useState3","_useState4","할인","set할인","_useState5","_useState6","경고","경고변경","_useState7","_useState8","num","numeric","_useState9","_useState10","tab","setTab","_useState11","_useState12","fade","setFade","state","useSelector","cart","dispatch","useDispatch","useEffect","a","setTimeout","timer","최근본상품","JSON","parse","localStorage","getItem","set","Set","console","log","setItem","stringify","Array","from","clearTimeout","isNaN","alert","_jsxs","className","concat","children","_jsx","onClick","src","parseInt","width","onChange","e","input","target","value","test","name","content","price","order","Nav","variant","defaultActiveKey","Item","Link","eventKey","TabContent","_ref","_useState13","_useState14","_useContext2"],"sourceRoot":""}